# 다운로드

스트림읽기 - 프로세싱 - 엑셀스트림쓰기

사용상, 그리고 요구사항상에도 다운로드도중에 수신기의 시리얼데이터를 재대로 로깅하는것은 불필요함.
하지만 최소한의 정상기능은 하도록 기준을 잡음. => 이벤트루프 사이클 레이턴시 제한: 50~100ms (로깅 및 Led 제어에 필요한 최소 레이턴시)
기본값 64kb 버퍼사이즈로 읽을떄 led 깜빡임 보고 대충 루프레이턴시가 1초정도라고 추측 => 512b 로 변경하면 8ms 예상. (https://storage.googleapis.com/odoldotol-image-store/rct_logger_prototype_download_debug.mp4)
(pm2 로 모니터링한 루프 레이턴시 p95 는 6ms 정도로 안정적인 수준. (평소 0.6ms))

기능 전부 구현하고 디자인 집어넣으니 (로깅없이) p95 20ms / 9ms
3일치 5:30 소요, 너무 느려

## 로그 다운로드 전체 속도개선
알고리즘 개선할 부분 많음.
멀티스레딩으로 세그먼트 병열처리
읽기/쓰기 스트림 병목 점검


## range 읽기 인코딩 감지 + 디코더
chardet + iconv-lite

